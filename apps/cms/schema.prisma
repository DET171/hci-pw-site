// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        String    @id @default(cuid())
  name      String    @default("")
  email     String    @unique @default("")
  password  String
  isAdmin   Boolean   @default(false)
  createdAt DateTime? @default(now())
}

model Year {
  id       String    @id @default(cuid())
  year     String    @unique @default("")
  projects Project[] @relation("Project_year")
}

model ProjectAuthor {
  id        String   @id @default(cuid())
  project   Project? @relation("ProjectAuthor_project", fields: [projectId], references: [id])
  projectId String?  @map("project")
  name      String   @default("")
  class     String   @default("")

  @@index([projectId])
}

model Project {
  id                  String              @id @default(cuid())
  title               String              @default("")
  year                Year?               @relation("Project_year", fields: [yearId], references: [id])
  yearId              String?             @map("year")
  category            ProjectCategoryType
  authors             ProjectAuthor[]     @relation("ProjectAuthor_project")
  bannerImg_id        String?
  bannerImg_filesize  Int?
  bannerImg_width     Int?
  bannerImg_height    Int?
  bannerImg_extension String?
  slides_filesize     Int?
  slides_filename     String?
  summary             String              @default("")
  description         Json                @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  createdAt           DateTime?           @default(now())

  @@index([yearId])
}

enum ProjectCategoryType {
  cat1
  cat2
  cat3
  cat4
  cat5
  cat6
  cat7
  cat8
  cat9
  cat10
}
